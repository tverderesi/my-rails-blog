<div class="ml-2">
  <h2 class="mt-10">
    <%= pluralize(@article.comments.size, 'Comment') %></h2>
  <% if @article.comments.empty? %>
    <p class="mt-2 text-lg">Nobody has commented yet.</p>
  <% end %>
  <ul class="list-none mt-2">
    <% @article.comments.each do |comment| %>

      <li class="border-b pt-2 pb-2 flex align-center justify-between pl-2 pr-2">
        <div class="flex-grow">
          <p class="text-lg font-semibold"><%= comment.commenter %> said:</p>
          <p class="text-base pt-2 pl-2 pl-5 pr-5 text-softer"><%= comment.body %></p>
        </div>
        <%= link_to inline_svg('MaterialSymbolsDeleteForever.svg', title: 'Delete Comment', class: 'icon'), [comment.article, comment],
                    method: :delete,
                    data: { confirm: 'Are you sure?' }, class: 'square-btn destructive' %>
      </li>

    <% end %>
  </ul>
  <h2 class="mt-10">Comment</h2>
  <%= form_with(model: [@article, @article.comments.build], local: true) do |form| %>
    <div class="flex-col mt-2">
      <%= form.label 'name', class: "text-lg font-semibold" %>
      <%= form.text_field :commenter, class: "input p-1 text-base mt-1 rounded-lg border-none w-full" %>
    </div>
    <div class="flex-col mt-2">
      <%= form.label 'comment', class: "text-lg font-semibold" %>
      <%= form.text_area :body, class: "mt-1 rounded-lg rounded-br-0 border-none w-full p-1 text-base min-h-10" %>

    </div>
    <%= form.submit class: "p-1 mt-2 outline-none btn-ghost text-base font-semibold transition-bg-color transition-300 ease-in-out" %>

  <% end %>
</div>
<style>

    .flex-grow {
        flex-grow: 1;
    }

    .pt-1 {
        padding-top: 0.5rem;
    }

    .pl-2 {
        padding-left: 1rem;
    }

    .pr-2 {
        padding-right: 1rem;
    }

    .pt-2 {
        padding-top: 1rem;
    }

    .pt-6 {
        padding-top: 1.5rem;
    }

    .top-0 {
        top: 0;
    }

    .top-1\/2 {
        top: 50%;
    }

    .right-2 {
        right: 1rem;
    }
</style>